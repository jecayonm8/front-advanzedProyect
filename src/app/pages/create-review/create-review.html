<main class="page">
  <div class="container py-5">
    <header class="page__heading text-center mx-auto">
      <h1 class="page__title">Crear reseña</h1>
      <p class="page__subtitle">
        Publica tu reseña para ayudar a otros viajeros a tomar mejores decisiones.
      </p>
    </header>

    <form class="form-card" [formGroup]="reviewForm" (ngSubmit)="createReview()" novalidate>
      <div class="form-card__grid">
        <div class="form-group">
          <label for="review-rating">Calificación</label>
          <select id="review-rating" class="form-select" formControlName="rating">
            <option value="5">⭐⭐⭐⭐⭐ (5 estrellas)</option>
            <option value="4">⭐⭐⭐⭐ (4 estrellas)</option>
            <option value="3">⭐⭐⭐ (3 estrellas)</option>
            <option value="2">⭐⭐ (2 estrellas)</option>
            <option value="1">⭐ (1 estrella)</option>
          </select>
          @if (reviewForm.get('rating')?.touched && reviewForm.get('rating')?.invalid) {
            <small class="error-message">Seleccione una calificación.</small>
          }
        </div>

        <div class="form-group">
          <label for="review-comment">Comentario</label>
          <textarea id="review-comment" formControlName="comment" placeholder="Comparte tu experiencia en este alojamiento..." rows="4"></textarea>
          <div class="form-text">{{ reviewForm.get('comment')?.value?.length || 0 }}/1000 caracteres</div>
          @if (reviewForm.get('comment')?.touched && reviewForm.get('comment')?.invalid) {
            <small class="error-message">El comentario debe tener mínimo 20 caracteres.</small>
          }
        </div>
      </div>

      <button type="submit" [disabled]="reviewForm.invalid">Publicar reseña</button>
    </form>
  </div>
</main>

<div class="container pt-5 pb-5">
    <h5 class="mb-0 d-flex align-items-center">
        <span class="material-symbols-rounded filled fs-1 me-3">person</span>
        Actualizar perfil
    </h5>
    <hr />
    <div class="card-body">
        <form class="row g-3" [formGroup]="updateProfileForm" (ngSubmit)="updateProfile()" novalidate="">
            <div class="col-12">
                <label class="form-label">Email:</label>
                <input class="form-control" type="email" [value]="userEmail" readonly />
            </div>

            <div class="col-12 col-sm-6">
                <label class="form-label">Nombre: *</label>
                <input class="form-control" type="text" formControlName="name" />
                @if (updateProfileForm.get('name')?.invalid && updateProfileForm.get('name')?.touched) {
                    <small class="text-danger">El nombre es obligatorio y máximo 100 caracteres.</small>
                }
            </div>

            <div class="col-12 col-sm-6">
                <label class="form-label">Teléfono:</label>
                <input class="form-control" type="text" formControlName="phone" />
                @if (updateProfileForm.get('phone')?.invalid && updateProfileForm.get('phone')?.touched) {
                    <small class="text-danger">El teléfono debe tener máximo 10 caracteres.</small>
                }
            </div>

            <div class="col-12 col-sm-6">
                <label class="form-label">Foto de perfil:</label>
                <input class="form-control" type="file" formControlName="photoUrl" (change)="onFileChange($event)" />
            </div>

            <div class="col-12 col-sm-6">
                <label class="form-label">Fecha de nacimiento: *</label>
                <input class="form-control" type="date" formControlName="birthDate" />
                @if (updateProfileForm.get('birthDate')?.invalid && updateProfileForm.get('birthDate')?.touched) {
                    <small class="text-danger">La fecha de nacimiento es obligatoria.</small>
                }
            </div>

            <div class="col-12">
                <button type="submit" class="btn btn-primary" [disabled]="updateProfileForm.invalid">
                    Guardar cambios
                </button>
            </div>
        </form>
    </div>
</div>
